# 6-24

## 描述下面这个函数的行为。如果代码中存在问题，请指出并改正。

```c++

void print(const int ia[10])
{
    for(size_t i = 0;i != 10;++i)
        cout<<ia[i]<<endl;
}

```

## 当我们想把数组作为函数的形参时，有三种可供选择的方式：
*  一是声明为指针
*  二是声明为不限维度的数组
*  三是声明为维度确定的数组

## 实际上，因为数组传入函数时实参自动转换成指向数组首元素的指针，所以这三种方式等价。

## _print_ 函数的实际参数实际上等同于一个 __常量整形指针__ _int*_ ，形参 _ia_ 的维度10只是我们期望的数组维度，实际上不一定。即使实参数组的真实维度不是10，也可以正场调用 _print_ 函数。

## 上述 _print_函数的定义存在一个潜在風险，即虽然我们期望传入的数组维度是10，但实际上任意维度的数组都可以传入。如果传入的数组维度较大， _print_ 函数输出数组的前10个元素，不至于引发错误；相反如果传入的数组维度不足10，则 _print_ 函数将强行输出一些未定义的值。

## 修改后的程序是：

```c++

void print(const int ia[],const int sz)
{
    for(size_t i = 0;i != sz;++i)
        cout<<ia[i]<<endl;
}

```

&nbsp;

Sat,Aug17,2019